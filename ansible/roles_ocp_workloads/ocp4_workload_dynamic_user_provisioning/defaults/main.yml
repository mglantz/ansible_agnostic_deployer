---
become_override: false
ocp_username: admin
silent: false

# Dynamic User Provisioning Configuration
# Username will be auto-generated as user-{guid}
ocp4_workload_dynamic_user_provisioning_password: "{{ guid | hash('md5') | truncate(8, True, '') }}"

# OpenShift access configuration - uses standard ocp-workloads variables
# These variables are set by the ocp-workloads config:
# - openshift_api_key
# - openshift_api_ca_cert
# - openshift_api_url
ocp4_workload_dynamic_user_provisioning_openshift_console_url: ""

# Legacy admin credentials (deprecated - use token auth instead)
ocp4_workload_dynamic_user_provisioning_admin_user: admin
ocp4_workload_dynamic_user_provisioning_admin_password: ""

# Environment detection - these will be auto-discovered
ocp4_workload_dynamic_user_provisioning_keycloak_namespace: tssc-keycloak
ocp4_workload_dynamic_user_provisioning_gitlab_namespace: gitlab
ocp4_workload_dynamic_user_provisioning_showroom_namespace: showroom
ocp4_workload_dynamic_user_provisioning_dh_namespace: tssc-dh
ocp4_workload_dynamic_user_provisioning_gitops_namespace: tssc-gitops
ocp4_workload_dynamic_user_provisioning_quay_namespace: tssc-quay
ocp4_workload_dynamic_user_provisioning_acs_namespace: tssc-acs
ocp4_workload_dynamic_user_provisioning_tpa_namespace: tssc-tpa
ocp4_workload_dynamic_user_provisioning_acs_admin_user: admin

# Keycloak configuration
ocp4_workload_dynamic_user_provisioning_keycloak_realm: trusted-artifact-signer

# GitLab configuration
ocp4_workload_dynamic_user_provisioning_gitlab_skip_if_exists: true

# Showroom configuration - only essential variables from ocp4_workload_showroom
ocp4_workload_showroom_content_git_repo: "https://github.com/rhpds/showroom-ads-workshop.git"
ocp4_workload_showroom_content_git_repo_ref: main
ocp4_workload_showroom_content_only: true

# =============================================
# Resource Quota and Limits Configuration
# =============================================

# Compute Resource Quotas (per user)
ocp4_workload_dynamic_user_provisioning_cpu_requests: "2000m"      # 2 CPU cores requested
ocp4_workload_dynamic_user_provisioning_cpu_limits: "4000m"        # 4 CPU cores limit
ocp4_workload_dynamic_user_provisioning_memory_requests: "4Gi"     # 4GB RAM requested
ocp4_workload_dynamic_user_provisioning_memory_limits: "8Gi"       # 8GB RAM limit

# Storage Resource Quotas
ocp4_workload_dynamic_user_provisioning_storage_requests: "10Gi"   # 10GB storage total
ocp4_workload_dynamic_user_provisioning_pvc_count: "5"             # Max 5 PVCs
ocp4_workload_dynamic_user_provisioning_default_storage: "1Gi"     # Default PVC size
ocp4_workload_dynamic_user_provisioning_max_pvc_size: "5Gi"        # Max PVC size
ocp4_workload_dynamic_user_provisioning_min_pvc_size: "100Mi"      # Min PVC size

# Object Count Limits
ocp4_workload_dynamic_user_provisioning_max_pods: "20"             # Max 20 pods
ocp4_workload_dynamic_user_provisioning_max_services: "10"         # Max 10 services
ocp4_workload_dynamic_user_provisioning_max_secrets: "20"          # Max 20 secrets
ocp4_workload_dynamic_user_provisioning_max_configmaps: "20"       # Max 20 configmaps
ocp4_workload_dynamic_user_provisioning_max_deployments: "10"      # Max 10 deployments
ocp4_workload_dynamic_user_provisioning_max_replicasets: "20"      # Max 20 replicasets
ocp4_workload_dynamic_user_provisioning_max_jobs: "20"             # Max 20 jobs
ocp4_workload_dynamic_user_provisioning_max_cronjobs: "5"          # Max 5 cronjobs
ocp4_workload_dynamic_user_provisioning_max_rcs: "10"              # Max 10 replication controllers

# ArgoCD Application Limits
ocp4_workload_dynamic_user_provisioning_max_argocd_apps: "10"      # Max 10 ArgoCD apps per user

# Default Resource Limits (applied to containers without explicit limits)
ocp4_workload_dynamic_user_provisioning_default_cpu_limit: "500m"     # 0.5 CPU per container
ocp4_workload_dynamic_user_provisioning_default_memory_limit: "1Gi"   # 1GB RAM per container
ocp4_workload_dynamic_user_provisioning_default_cpu_request: "100m"   # 0.1 CPU request per container
ocp4_workload_dynamic_user_provisioning_default_memory_request: "256Mi"  # 256MB request per container
# Default storage configured per workshop as needed

# =============================================
# Auto-generated variables (set during execution)
# =============================================
_dynamic_username: "user-{{ guid }}"
_dynamic_user_email: "user-{{ guid }}@demo.redhat.com"
_dynamic_showroom_namespace: "{{ ocp4_workload_dynamic_user_provisioning_showroom_namespace }}-user-{{ guid }}"
